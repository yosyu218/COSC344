@startuml
skinparam Style StrictUML
skinparam Linetype ortho 



entity "Patient" as patient {
    patient_id: varchar <<PK>>
    --
    first_name: varchar(50)
    surname: varchar(50)
    address: varchar(200)
    email: varchar(320)
    phone_num: varchar(25)
    gender: varchar(50)
    DOB: datetime
    AGE<18: boolean
    health_cond: varchar(100)
    Allergies: varchar(100)
}

entity "Staff" as staff {
    staff_id: varchar <<PK>>
    --
    first_name: varchar(50)
    surname: varchar(50)
    address: varchar(200) 
    email: varchar(320)
    phone_num: varchar(25)
    position: varchar(100)
    dateofemployment: datetime
    IRDnum: char(9)
    ' IRDnum is either 8 or 9 digits however, if its 8 an 0 is added at the front making it a 9 digit number
}

entity "Booking" as booking {
    booking_id: varchar <<PK>>
    patient_id: varchar <<FK>>
    staff_id: varchar <<FK>>
    timedate: datetime
    procedure_id: varchar <<FK>>
    --
    location: varchar(200)
    notes: varchar(500)
}

entity "Procedure" as procedure {
    procedure_id: varchar <<PK>>
    --
    description: varchar(500)
    quantity: integer
    grams: integer
    timedate: datetime
    ' timedate to roughly know how long each procedure takes
    cost: deciaml(10,2)
    gst: float
}

entity "Booking_procedures" as booking_procedures{
    booking_id: varchar <<FK>>
    procedure_id: varchar <<FK>>
    --
}

entity "Schedule" as schedule {
    booking_id: varchar <<FK>>
    timedate: datetime
    --
    notes: varchar(200)
    bookings: varchar(100)
}

entity "Payments" as payments {
    booking_id: varchar <<FK>>
    patientID: varchar <<FK>>
    --
    total_cost: float
    daysinceoperation: integer
    pay boolean: boolean
}

entity "Cost_calculation" as cost_calculation {
    pateint_id: varchar <<FK>>
    booking_id: varchar <<FK>>
    --
    age: integer
}
patient ||-|{ booking
staff ||--|{ booking
booking ||-|{ booking_procedures
procedure ||--|{ booking_procedures
schedule ||-o{ booking
staff ||-|| schedule
booking ||--|{cost_calculation
cost_calculation ||--|{ payments
patient ||-|{ payments
@enduml